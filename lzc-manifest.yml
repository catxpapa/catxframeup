name: 喵框
package: cloud.lazycat.app.frameup
version: 0.3.1
description:
license: https://choosealicense.com/licenses/mit/
homepage:
author:
application:
  subdomain: frameup
  workdir: /lzcapp/pkg/content/
  routes:
    - /=file:///lzcapp/pkg/content/
    - /assets/=file:///lzcapp/var/assets
    - /uploads/=file:///lzcapp/var/uploads
    - /history/=file:///lzcapp/var/history
  file_handler:
    mime:
      - audio/mpeg
      - audio/mp3
    actions:
      open: /open?file=%u

  upstreams:
    - location: /api/
      workdir: /lzcapp/pkg/content/
      backend: http://127.0.0.1:3000/api/
      # 在下方 backend_launch_command 中添加启动命令
      backend_launch_command: |
        cd /lzcapp/pkg/content
        apk update
        apk add nodejs npm
        cp -r /lzcapp/pkg/content/assets/ /lzcapp/var/
        mkdir /lzcapp/var/uploads
        mkdir /lzcapp/var/history
        npm run start
